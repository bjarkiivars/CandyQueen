{% extends 'index.html' %}

{% load static %}

{% block logincontainer %}
<div class="d-flex justify-content-center align-items-center vh-100" id="LoginDiv">
  <div class="profile-form">
    <h3 class="text-center">Edit Your Profile</h3>
    <div>
        <form method="POST" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            <div class="form-group row">
                <label for="name" class="col-sm-3 col-form-label text-right">Name:</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control rounded-pill" id="name" name="name" value="{{ user.name }}" required>
                </div>
              </div>
              <div class="form-group row">
                <label for="street_name" class="col-sm-3 col-form-label text-right">Street Name:</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control rounded-pill" id="street_name" name="street_name" value="{{ user.street_name }}" required>
                </div>
              </div>
              <div class="form-group row">
                <label for="house_number" class="col-sm-3 col-form-label text-right">House Number:</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control rounded-pill" id="house_number" name="house_number" value="{{ user.house_number }}" required>
                </div>
              </div>
              <div class="form-group row">
                <label for="city" class="col-sm-3 col-form-label text-right">City:</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control rounded-pill" id="city" name="city" value="{{ user.city }}" required>
                </div>
              </div>
              <div class="form-group row">
                <label for="country" class="col-sm-3 col-form-label text-right">Country:</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control rounded-pill" id="country" name="country" value="Iceland" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="postal_code" class="col-sm-3 col-form-label text-right">Postal Code:</label>
                <div class="col-sm-9">
                  <input type="text" class="form-control rounded-pill" id="postal_code" name="postal_code" value="{{ user.postal_code }}" required>
                </div>
              </div>
              <div class="form-group row d-flex align-items-center" style="margin-bottom: 1rem;">
                <label for="img" class="col-sm-3 col-form-label text-right">Image:</label>
                <div class="col-sm-9">
                    <input type="file" class="form-control-file d-none" id="profileImageInput" name="{{ form.img.html_name }}" accept="image/*" required>
                    {% if form.img.errors %}
                        <div class="text-danger">{{ form.img.errors.as_text }}</div>
                    {% endif %}
                    <img src="{% static 'img/upload.png' %}" alt="Choose Image" id="customImage" onclick="chooseImage()" style="cursor: pointer; margin-left: 200px;">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-12 text-center">
                    <button type="submit" class="btn btn-success btn-lg rounded-pill">Save changes</button>
                </div>
            </div>
        </form>
    </div>
    <div class="form-group row">
        <div class="col-sm-12 text-center">
            <form action="{% url 'logout' %}" method="POST">
                {% csrf_token %}
                <button type="submit" class="btn btn-secondary btn-lg rounded-pill mt-3">Logout</button>
            </form>
        </div>
    </div>
    <!-- Move to app.js When ready -->
    <script>
        function chooseImage() {
            document.getElementById('profileImageInput').click();
        }
    </script>
  </div>
</div>

{% endblock %}
