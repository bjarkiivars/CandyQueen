{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PizzaLair</title>
    <!-- BOOTSTRAP CDN -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <!-- JQUERY -->
    <script 
    src="https://code.jquery.com/jquery-3.6.4.min.js" 
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" 
    crossorigin="anonymous">
    </script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}?v=1"/>
    <script src="{% static 'js/app.js' %}?v=1"></script>
    <meta name="authors" content="Bjarki, Axel og Bjarni">
    <meta name="description" content="Pizza Application">
    <meta name="keywords" content="Pizza, Hungry, Affordable">
</head>
    <body>
        <div id="navigation">
            <!-- populate navigation bar -->
            <div id="navOffer">
                <!-- Offers -->
                <a href="/offers/" id="navOffer">
                    <img class="FireIcon" src="{% static 'img/FireIcon.png' %}" alt="Fire Icon">
                    <p>Offers</p>
                </a>
            </div>
            <div id="navMenu">
                <a href="/menu/">
                    <img class="MenuIcon" src="{% static 'img/menu_pizza_icon.png' %}" alt="Pizza Icon">
                    <p>Menu</p>
                </a>
            </div>
            <div id="navLogo">
                <a href="/">
                    <img class="PizzaLairLogo" src="{% static 'img/PizzaLairLogo.png' %}" alt="PizzaLair Logo of Pizza">
                </a>
            </div>
            <div id="navOrder">
                <a href="/order/">
                    <img class="CartIcon" src="{% static 'img/CartIcon.png' %}" alt="Image of a cart">
                    <p>Order</p>
                </a>
            </div>
            <div id="navUser">
                <a href="/user/">
                    <img class="AvatarIcon" src="{% static 'img/AvatarIcon.png' %}" alt="Small Avatar Icon">
                </a>
            </div>
            <!-- if Pizza ..-->

        </div>
        <div id="filter">
            <div id="filterSearch">
                <p>Specific pizza:</p>
                <input type="text" id="searchBar" placeholder="Pizza name..">
            </div>
            <div id="filterType">
                <p>Select type:</p>
                <select name="pizzaType" id="pizzaTypes">
                    <option value="" selected>N/A</option>
                    {% for type in pizzatype %}
                        <option value="{{ type.name_display }}">{{ type.name_display }}</option>
                    {% endfor %}
                </select>
            </div>
            <div id="filterOrderBy">
                <p>Order by:</p>
                <select name="orderBy" id="pizzaOrderBy">
                    <option value="" selected>N/A</option>
                    <option value="Price">Price</option>
                    <option value="Name">Name</option>
                </select>
                <!-- Only visible once the user selects order by price -->
                <div id="ascOrDesc">
                    <p>Order:</p>
                    <select name="ascOrDesc" id="orderChoice">
                        <option value="Ascending" selected>Ascending</option>
                        <option value="Descending">Descending</option>
                </select>
                </div>
            </div>
        </div>
        <div id="contentBody">
             <!-- populate body content -->

             <!-- Login form -->
             {% block logincontainer %}
             {% endblock %}

            <div id="menu">
                <!-- Populates the pizzas from the view. -->
                {% for unit in pizza %}

                    <!-- Dataset is created here, to be callable in the javascript -->
                    <div class="pizza" data-name="{{ unit.name }}" data-img="{{ unit.pizza_image }}"
                         data-id="{{ unit.id }}" data-type="{{ unit.pizza_type_id }}" data-price="{{ unit.price }}">

                        <div class="imgContainer">
                            <img class="menuimg" src="" alt="pizza" id="img-{{ unit.id }}">
                        </div>

                        <div class="pizzatext">
                            <p> {{ unit.name }} </p>
                            <p></p>
                            <!-- We call the pizzatype from the view to get specific types of pizzas. -->
                            {% for type in pizzatype %}
                                <div class="pizzaType" data-type="{{ type.name_display }}" data-id="{{ type.id }}">
                                    {% if type.id == unit.pizza_type_id %}
                                        <p class="{{ type.name_display }}"> {{ type.name_display }} </p>
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>

                        <p>{{ unit.price }}$</p>
                    </div>
                {% endfor %}
            </div>
            <div id="offer">
                <!-- .... -->
                {% for unit in offer %}
                    <div class="offers" data-name="{{unit.offer_name}}" data-img="{{ unit.offer_image }}" data-id="{{ unit.id }}">
                        <img class="offerimg" src="" alt="offer(s)" id="offerimg-{{ unit.id }}">
                        <p>{{ unit.offer_name }}</p>
                        <p>{{ unit.offer_price }}$</p>
                    </div>
                {% endfor %}
            </div>
            <div>

            </div>
        </div>

        <div id="footer">
            <div id="pizzaPhone">
                <img class="PhoneIcon" src="{% static 'img/PhoneIcon.png' %}" alt="Phone Icon">
                <p>123-4567</p>
            </div>
            <div id="pizzaEmail">
                <img class="EmailIcon" src="{% static 'img/EmailIcon.png' %}" alt="Email Icon">
                <p>pizzaLair@pizza.com</p>
            </div>
            <p id="aboutUsText">
                We are love making and selling pizzas. We are just three guys with a dream.
                Please make sure to enjoy the pizzas as much as we enjoy making your dinner, lunch or even breakfast
            </p>
            <button id="pizzaAbout">
                <img class="QuestionIcon" src="{% static 'img/QuestionIcon.png' %}" alt="Question Icon">
                <p>About us</p>
            </button>
        </div>
    </body>
</html>